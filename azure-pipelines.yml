trigger:

  - main  # Trigger the pipeline when changes are pushed to the 'main' branch

pool:
  name: Default  # Specify the name of your self-hosted agent pool

variables:
  JAVA_HOME: "C:\\Program Files\\Java\\jdk-11.0.17"
  PATH: "C:\\Program Files\\Java\\jdk-11.0.17\\bin;C:\\path\\to\\apache-maven\\bin;%PATH%"

steps:
  - script: |
      java -version
      mvn --version
    displayName: 'Show Java and Maven Versions'

  - script: |
     dir
      mvn.cmd clean package  # Use mvn.cmd for Maven on Windows
    displayName: 'Build'
    workingDirectory: $(Pipeline.Workspace)/path/to/your/maven/project  # Use absolute path

  - script: |
      mvn.cmd test  # Run tests using mvn.cmd (replace with appropriate test command)
    displayName: 'Run Tests'
    workingDirectory: $(Pipeline.Workspace)/path/to/your/maven/project  # Use absolute path'
