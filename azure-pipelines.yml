trigger:
  - main  # Trigger the pipeline when changes are pushed to the 'main' branch

pool:
  name: Default  # Specify the name of your self-hosted agent pool

variables:
  JAVA_HOME: "/usr/lib/jvm/java-11-openjdk-amd64"
  PATH: "/usr/lib/jvm/java-11-openjdk-amd64/bin:${PATH}"

steps:
  - script: |
      java -version
      mvn --version
    displayName: 'Show Java and Maven Versions'

  - script: |
      ./mvnw clean package  # Replace with your Maven or Gradle build command
    displayName: 'Build'

  - script: |
      ./mvnw test  # Run tests (replace with appropriate command for your project)
    displayName: 'Run Tests'
